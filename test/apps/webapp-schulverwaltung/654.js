"use strict";(self.webpackChunkwebapp_schulverwaltung=self.webpackChunkwebapp_schulverwaltung||[]).push([[654],{6654:(J,r,t)=>{t.r(r),t.d(r,{DashboardModule:()=>I});var m=t(6482),c=t(3519),i=t(4004),e=t(4650),u=t(8623),d=t(6895),p=t(1104),v=t(2925),g=t(386),f=t(6628);let b=(()=>{class s{constructor(n,o){this.studentsRestService=n,this.router=o}navigateToDossier(n){const o=Number(n);this.router.navigate(["dashboard","student",o,"addresses"])}}return s.\u0275fac=function(n){return new(n||s)(e.Y36(g.l),e.Y36(c.F0))},s.\u0275cmp=e.Xpm({type:s,selectors:[["erz-dashboard-search"]],decls:1,vars:2,consts:[[3,"typeaheadService","placeholder","valueChange"]],template:function(n,o){1&n&&(e.TgZ(0,"erz-typeahead",0),e.NdJ("valueChange",function(h){return h&&o.navigateToDossier(h)}),e.qZA()),2&n&&e.Q6J("typeaheadService",o.studentsRestService)("placeholder","dashboard.search.placeholder")},dependencies:[f.t],styles:["[_nghost-%COMP%]{display:block;padding:.75rem;background:rgb(247,233,210)}"]}),s})();var A=t(6188);function T(s,a){1&s&&e._UZ(0,"erz-spinner")}function C(s,a){1&s&&(e.TgZ(0,"p"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&s&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"dashboard.no-access")," "))}function S(s,a){1&s&&(e.TgZ(0,"div")(1,"h2"),e._uU(2),e.ALo(3,"translate"),e.qZA(),e._UZ(4,"erz-dashboard-search"),e.qZA()),2&s&&(e.xp6(2),e.Oqu(e.lcZ(3,1,"dashboard.search.title")))}function Z(s,a){1&s&&(e.TgZ(0,"div")(1,"h2"),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&s&&(e.xp6(2),e.Oqu(e.lcZ(3,1,"dashboard.actions")))}function D(s,a){if(1&s&&(e.TgZ(0,"div",5),e.YNc(1,S,5,3,"div",1),e.YNc(2,Z,4,3,"div",1),e.qZA()),2&s){const n=e.oxw().erzLet;e.xp6(1),e.Q6J("ngIf",n.hasSearch),e.xp6(1),e.Q6J("ngIf",n.hasActions)}}function x(s,a){1&s&&(e.TgZ(0,"div",6)(1,"h2"),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&s&&(e.xp6(2),e.Oqu(e.lcZ(3,1,"dashboard.timetable")))}function R(s,a){if(1&s&&(e.TgZ(0,"div")(1,"h1"),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.YNc(4,T,1,0,"erz-spinner",1),e.YNc(5,C,3,3,"p",1),e.TgZ(6,"div",2),e.YNc(7,D,3,2,"div",3),e.YNc(8,x,4,3,"div",4),e.qZA()()),2&s){const n=a.erzLet;e.xp6(1),e.ekj("visually-hidden",n.loading||n.hasSearch||n.hasActions||n.hasTimetable),e.xp6(1),e.hij(" ",e.lcZ(3,7,"dashboard.heading")," "),e.xp6(2),e.Q6J("ngIf",n.loading),e.xp6(1),e.Q6J("ngIf",!(n.loading||n.hasSearch||n.hasActions||n.hasTimetable)),e.xp6(2),e.Q6J("ngIf",n.hasSearch||n.hasActions),e.xp6(1),e.Q6J("ngIf",n.hasTimetable)}}const y=function(s,a,n,o){return{loading:s,hasSearch:a,hasActions:n,hasTimetable:o}},L=["LessonTeacherRole","ClassTeacherRole","TeacherRole","AbsenceAdministratorRole"],O=["LessonTeacherRole","TeacherRole","StudentRole","SubstituteAdministratorRole"],_=["LessonTeacherRole","StudentRole"],P=[{path:"",component:(()=>{class s{constructor(n){this.settingsService=n,this.rolesAndPermissions$=this.settingsService.getRolesAndPermissions(),this.loading$=this.rolesAndPermissions$.pipe((0,i.U)(o=>null==o)),this.hasSearch$=this.rolesAndPermissions$.pipe((0,i.U)(this.hasRoles(L))),this.hasActions$=this.rolesAndPermissions$.pipe((0,i.U)(this.hasRoles(O))),this.hasTimetable$=this.rolesAndPermissions$.pipe((0,i.U)(this.hasRoles(_)))}hasRoles(n){return o=>(o??[]).some(l=>n.includes(l))}}return s.\u0275fac=function(n){return new(n||s)(e.Y36(u.s))},s.\u0275cmp=e.Xpm({type:s,selectors:[["erz-dashboard"]],decls:5,vars:14,consts:[[4,"erzLet"],[4,"ngIf"],[1,"columns"],["class","search-actions-column",4,"ngIf"],["class","timetable-column",4,"ngIf"],[1,"search-actions-column"],[1,"timetable-column"]],template:function(n,o){1&n&&(e.YNc(0,R,9,9,"div",0),e.ALo(1,"async"),e.ALo(2,"async"),e.ALo(3,"async"),e.ALo(4,"async")),2&n&&e.Q6J("erzLet",e.l5B(9,y,e.lcZ(1,1,o.loading$),e.lcZ(2,3,o.hasSearch$),e.lcZ(3,5,o.hasActions$),e.lcZ(4,7,o.hasTimetable$)))},dependencies:[d.O5,p.e,v.O,b,d.Ov,A.X$],styles:[".columns[_ngcontent-%COMP%]{display:flex;flex-direction:column}.columns[_ngcontent-%COMP%], .search-actions-column[_ngcontent-%COMP%]{gap:3rem}.search-actions-column[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;max-width:40rem}.timetable-column[_ngcontent-%COMP%]{flex:2}@media (min-width: 992px){.columns[_ngcontent-%COMP%]{flex-direction:row;gap:1.5rem}.search-actions-column[_ngcontent-%COMP%]{max-width:33%}}"],changeDetection:0}),s})()},t(7467).H];let $=(()=>{class s{}return s.\u0275fac=function(n){return new(n||s)},s.\u0275mod=e.oAB({type:s}),s.\u0275inj=e.cJS({imports:[c.Bz.forChild(P),c.Bz]}),s})(),I=(()=>{class s{}return s.\u0275fac=function(n){return new(n||s)},s.\u0275mod=e.oAB({type:s}),s.\u0275inj=e.cJS({imports:[m.m,$]}),s})()}}]);