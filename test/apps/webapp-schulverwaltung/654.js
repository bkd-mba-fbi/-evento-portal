"use strict";(self.webpackChunkwebapp_schulverwaltung=self.webpackChunkwebapp_schulverwaltung||[]).push([[654],{6654:(J,c,t)=>{t.r(c),t.d(c,{DashboardModule:()=>I});var m=t(6482),r=t(3519),i=t(4004),e=t(4650),p=t(8623),d=t(6895),u=t(1104),v=t(2925),g=t(386),f=t(6628);let b=(()=>{class s{constructor(a,o){this.studentsRestService=a,this.router=o}navigateToDossier(a){const o=Number(a);this.router.navigate(["dashboard","student",o,"addresses"])}}return s.\u0275fac=function(a){return new(a||s)(e.Y36(g.l),e.Y36(r.F0))},s.\u0275cmp=e.Xpm({type:s,selectors:[["erz-dashboard-search"]],decls:1,vars:2,consts:[[3,"typeaheadService","placeholder","valueChange"]],template:function(a,o){1&a&&(e.TgZ(0,"erz-typeahead",0),e.NdJ("valueChange",function(h){return h&&o.navigateToDossier(h)}),e.qZA()),2&a&&e.Q6J("typeaheadService",o.studentsRestService)("placeholder","dashboard.search.placeholder")},dependencies:[f.t],styles:["[_nghost-%COMP%]{display:block;padding:.75rem;background:rgb(247,233,210)}"]}),s})();var A=t(6188);function T(s,n){1&s&&e._UZ(0,"erz-spinner")}function C(s,n){1&s&&(e.TgZ(0,"p"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&s&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"dashboard.no-access")," "))}function S(s,n){1&s&&(e.TgZ(0,"div")(1,"h2"),e._uU(2),e.ALo(3,"translate"),e.qZA(),e._UZ(4,"erz-dashboard-search"),e.qZA()),2&s&&(e.xp6(2),e.Oqu(e.lcZ(3,1,"dashboard.search.title")))}function Z(s,n){1&s&&(e.TgZ(0,"div")(1,"h2"),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&s&&(e.xp6(2),e.Oqu(e.lcZ(3,1,"dashboard.actions")))}function D(s,n){if(1&s&&(e.TgZ(0,"div",5),e.YNc(1,S,5,3,"div",1),e.YNc(2,Z,4,3,"div",1),e.qZA()),2&s){const a=e.oxw().erzLet;e.xp6(1),e.Q6J("ngIf",a.hasSearch),e.xp6(1),e.Q6J("ngIf",a.hasActions)}}function R(s,n){1&s&&(e.TgZ(0,"div",6)(1,"h2"),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&s&&(e.xp6(2),e.Oqu(e.lcZ(3,1,"dashboard.timetable")))}function x(s,n){if(1&s&&(e.TgZ(0,"div")(1,"h1"),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.YNc(4,T,1,0,"erz-spinner",1),e.YNc(5,C,3,3,"p",1),e.TgZ(6,"div",2),e.YNc(7,D,3,2,"div",3),e.YNc(8,R,4,3,"div",4),e.qZA()()),2&s){const a=n.erzLet;e.xp6(1),e.ekj("visually-hidden",a.loading||a.hasSearch||a.hasActions||a.hasTimetable),e.xp6(1),e.hij(" ",e.lcZ(3,7,"dashboard.heading")," "),e.xp6(2),e.Q6J("ngIf",a.loading),e.xp6(1),e.Q6J("ngIf",!(a.loading||a.hasSearch||a.hasActions||a.hasTimetable)),e.xp6(2),e.Q6J("ngIf",a.hasSearch||a.hasActions),e.xp6(1),e.Q6J("ngIf",a.hasTimetable)}}const y=function(s,n,a,o){return{loading:s,hasSearch:n,hasActions:a,hasTimetable:o}},L=["LessonTeacherRole","ClassTeacherRole","TeacherRole","AbsenceAdministratorRole"],O=["LessonTeacherRole","TeacherRole","StudentRole","SubstituteAdministratorRole"],_=["LessonTeacherRole","StudentRole"],P=[{path:"",component:(()=>{class s{constructor(a){this.settingsService=a,this.rolesAndPermissions$=this.settingsService.getRolesAndPermissions(),this.loading$=this.rolesAndPermissions$.pipe((0,i.U)(o=>null==o)),this.hasSearch$=this.rolesAndPermissions$.pipe((0,i.U)(this.hasRoles(L))),this.hasActions$=this.rolesAndPermissions$.pipe((0,i.U)(this.hasRoles(O))),this.hasTimetable$=this.rolesAndPermissions$.pipe((0,i.U)(this.hasRoles(_)))}hasRoles(a){return o=>(o??[]).some(l=>a.includes(l))}}return s.\u0275fac=function(a){return new(a||s)(e.Y36(p.s))},s.\u0275cmp=e.Xpm({type:s,selectors:[["erz-dashboard"]],decls:5,vars:14,consts:[[4,"erzLet"],[4,"ngIf"],[1,"columns"],["class","search-actions-column",4,"ngIf"],["class","timetable-column",4,"ngIf"],[1,"search-actions-column"],[1,"timetable-column"]],template:function(a,o){1&a&&(e.YNc(0,x,9,9,"div",0),e.ALo(1,"async"),e.ALo(2,"async"),e.ALo(3,"async"),e.ALo(4,"async")),2&a&&e.Q6J("erzLet",e.l5B(9,y,e.lcZ(1,1,o.loading$),e.lcZ(2,3,o.hasSearch$),e.lcZ(3,5,o.hasActions$),e.lcZ(4,7,o.hasTimetable$)))},dependencies:[d.O5,u.e,v.O,b,d.Ov,A.X$],styles:[".columns[_ngcontent-%COMP%]{display:flex;flex-direction:column}.columns[_ngcontent-%COMP%], .search-actions-column[_ngcontent-%COMP%]{gap:3rem}.search-actions-column[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column}.timetable-column[_ngcontent-%COMP%]{flex:2}@media (min-width: 992px){.columns[_ngcontent-%COMP%]{flex-direction:row;gap:1.5rem}}"],changeDetection:0}),s})()},t(7467).H];let $=(()=>{class s{}return s.\u0275fac=function(a){return new(a||s)},s.\u0275mod=e.oAB({type:s}),s.\u0275inj=e.cJS({imports:[r.Bz.forChild(P),r.Bz]}),s})(),I=(()=>{class s{}return s.\u0275fac=function(a){return new(a||s)},s.\u0275mod=e.oAB({type:s}),s.\u0275inj=e.cJS({imports:[m.m,$]}),s})()}}]);